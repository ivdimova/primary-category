!function(){"use strict";var e=window.wp.element,t=window.wp.components,r=window.wp.coreData,o=window.wp.data,n=window.wp.editor,a=window.wp.hooks,i=window.wp.htmlEntities;(0,a.addFilter)("editor.PostTaxonomyType","test/primary-category",(function(a){return console.log("bla"),c=>{if("category"!==c.slug)return(0,e.createElement)(a,c);const{terms:l}=(0,o.useSelect)((e=>{const{getEditedPostAttribute:t}=e(n.store),o=e(r.store).getTaxonomy(c.slug);return{terms:o?t(o.rest_base):[]}})),s=(0,o.withSelect)((e=>{const t=[];return l&&l.forEach((r=>{const o=e("core").getEntityRecord("taxonomy","category",r);o&&t.push({label:(0,i.decodeEntities)(o.name),value:Number(r)})})),{categoryOptions:t,primaryCategory:e("core/editor").getEditedPostAttribute("meta")._primary_category}}))((r=>{let{categoryOptions:n,primaryCategory:a}=r;if(!l.length||!n.length||n.length!==l.length)return null;const i=()=>{const e=Number(n[0].value);(0,o.dispatch)("core/editor").editPost({meta:{_primary_category:e}})};return 0===a?i():l.find((e=>e===a))||i(),(0,e.createElement)("div",{style:{marginTop:"1em"}},(0,e.createElement)("h3",null,"Primary category"),(0,e.createElement)("div",{style:{margin:"-6px 0 0 -6px",maxHeight:"10.5em",overflow:"auto",padding:"6px 0 2px 6px"}},(0,e.createElement)(t.RadioControl,{selected:a,options:n,onChange:e=>(0,o.dispatch)("core/editor").editPost({meta:{_primary_category:Number(e)}})})))}));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a,c),(0,e.createElement)(s,null))}}))}();